# ğŸš€ å…¨çƒç§‘æŠ€æ–°é—»è‡ªåŠ¨åŒ–ç³»ç»Ÿ - ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿæ¯å¤©æ—©ä¸Š8:30è‡ªåŠ¨ï¼š
1. è·å–å…¨çƒé«˜ç§‘æŠ€å…¬å¸æœ€æ–°æ–°é—»
2. ç”Ÿæˆ3å¼ å°çº¢ä¹¦é£æ ¼å›¾ç‰‡
3. å°†å†…å®¹å‘é€åˆ°Getç¬”è®°

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…

```bash
cd /mnt/okcomputer/output/tech-news-automation
bash install.sh
```

### ç¬¬äºŒæ­¥ï¼šé…ç½®ï¼ˆå¯é€‰ï¼‰

ç¼–è¾‘ `run.sh` è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# è®¾ç½®Getç¬”è®°APIå¯†é’¥ï¼ˆä» https://www.biji.com/subject è·å–ï¼‰
export GETNOTE_API_KEY="your_api_key_here"

# è®¾ç½®Webhookåœ°å€ï¼ˆå¦‚æœä½¿ç”¨Webhooké›†æˆï¼‰
export GETNOTE_WEBHOOK_URL="your_webhook_url_here"
```

### ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•è¿è¡Œ

```bash
# æµ‹è¯•æ¨¡å¼ï¼ˆä¸å‘é€ï¼Œåªç”Ÿæˆå›¾ç‰‡ï¼‰
python3 main.py --test
```

æµ‹è¯•æˆåŠŸåï¼ŒæŸ¥çœ‹ `output/` ç›®å½•ç”Ÿæˆçš„å›¾ç‰‡ã€‚

### ç¬¬å››æ­¥ï¼šè®¾ç½®å®šæ—¶ä»»åŠ¡

#### æ–¹æ³•1ï¼šCrontabï¼ˆæ¨èï¼‰

```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ¯å¤©æ—©ä¸Š8:30è¿è¡Œï¼‰
30 8 * * * cd /mnt/okcomputer/output/tech-news-automation && ./run.sh
```

#### æ–¹æ³•2ï¼šSystemd Timer

```bash
# å¤åˆ¶æœåŠ¡æ–‡ä»¶
sudo cp systemd/tech-news.service /etc/systemd/system/
sudo cp systemd/tech-news.timer /etc/systemd/system/

# ç¼–è¾‘æœåŠ¡æ–‡ä»¶ï¼Œè®¾ç½®æ­£ç¡®çš„ç”¨æˆ·å’Œè·¯å¾„
sudo nano /etc/systemd/system/tech-news.service

# é‡æ–°åŠ è½½systemd
sudo systemctl daemon-reload

# å¯ç”¨å¹¶å¯åŠ¨å®šæ—¶å™¨
sudo systemctl enable tech-news.timer
sudo systemctl start tech-news.timer

# æŸ¥çœ‹å®šæ—¶å™¨çŠ¶æ€
sudo systemctl list-timers --all
sudo systemctl status tech-news.timer
```

## âš™ï¸ è¯¦ç»†é…ç½®

### 1. æ–°é—»æ¥æºé…ç½®

ç¼–è¾‘ `scripts/news_fetcher.py`ï¼š

```python
# ä¿®æ”¹æ–°é—»è·å–é€»è¾‘
def fetch_news(self, query: str = "å…¨çƒé«˜ç§‘æŠ€å…¬å¸æ–°é—»", num_results: int = 10):
    # å¯ä»¥æ¥å…¥çœŸå®çš„æ–°é—»APIï¼Œå¦‚ï¼š
    # - NewsAPI (https://newsapi.org/)
    # - GNews (https://gnews.io/)
    # - è‡ªå®šä¹‰RSSæº
    pass
```

### 2. å›¾ç‰‡é£æ ¼é…ç½®

ç¼–è¾‘ `scripts/image_generator.py`ï¼š

```python
# ä¿®æ”¹é…è‰²æ–¹æ¡ˆ
colors = {
    'primary': (255, 107, 107),      # ä¸»è‰²è°ƒ
    'secondary': (78, 205, 196),     # æ¬¡è‰²è°ƒ
    # ...
}

# ä¿®æ”¹å°ºå¯¸ï¼ˆå°çº¢ä¹¦æ¨èå°ºå¯¸ï¼‰
width = 1080   # å®½åº¦
height = 1920  # é«˜åº¦
```

### 3. Getç¬”è®°é›†æˆ

#### è·å–APIå¯†é’¥

1. è®¿é—® https://www.biji.com/subject
2. ç™»å½•å¹¶è¿›å…¥çŸ¥è¯†åº“
3. ç‚¹å‡»é¡¶éƒ¨çš„"APIè®¾ç½®"
4. å¤åˆ¶APIå¯†é’¥

#### é…ç½®Webhookï¼ˆé«˜çº§ï¼‰

å¦‚æœéœ€è¦è‡ªåŠ¨åˆ›å»ºç¬”è®°ï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨Getç¬”è®°çš„WebhookåŠŸèƒ½
2. é…ç½®Zapier/Make.comé›†æˆ
3. ä½¿ç”¨é‚®ä»¶å‘é€æ–¹å¼

## ğŸ“¤ å‘é€åˆ°Getç¬”è®°çš„æ–¹å¼

### æ–¹å¼1ï¼šæœ¬åœ°ä¿å­˜ï¼ˆå½“å‰é»˜è®¤ï¼‰

ç³»ç»Ÿè‡ªåŠ¨å°†å†…å®¹ä¿å­˜åˆ° `output/YYYYMMDD/` ç›®å½•ï¼š
- `note.txt` - ç¬”è®°æ–‡æœ¬
- `image_1.jpg` - å°é¢å›¾ç‰‡
- `image_2.jpg` - è¯¦æƒ…å›¾ç‰‡
- `image_3.jpg` - æ€»ç»“å›¾ç‰‡
- `å¯¼å…¥æŒ‡å—.txt` - å¯¼å…¥æ­¥éª¤

**æ‰‹åŠ¨å¯¼å…¥æ­¥éª¤ï¼š**
1. æ‰“å¼€Getç¬”è®°APPæˆ–ç½‘é¡µç‰ˆ
2. ç‚¹å‡»æ–°å»ºç¬”è®°
3. å¤åˆ¶ `note.txt` å†…å®¹
4. æ·»åŠ 3å¼ å›¾ç‰‡
5. ä¿å­˜ç¬”è®°

### æ–¹å¼2ï¼šWebhooké›†æˆ

é…ç½® `run.sh`ï¼š

```bash
export GETNOTE_WEBHOOK_URL="https://hooks.biji.com/your-webhook-url"
```

### æ–¹å¼3ï¼šé‚®ä»¶å‘é€

é…ç½®é‚®ä»¶å‘é€ï¼ˆéœ€è¦é¢å¤–è®¾ç½®ï¼‰ï¼š

```bash
export EMAIL_SMTP_SERVER="smtp.gmail.com"
export EMAIL_USERNAME="your-email@gmail.com"
export EMAIL_PASSWORD="your-app-password"
export GETNOTE_EMAIL="your-getnote-email@biji.com"
```

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/tech-news-$(date +%Y%m%d).log

# æŸ¥çœ‹Systemdæ—¥å¿—ï¼ˆå¦‚æœä½¿ç”¨systemdï¼‰
sudo journalctl -u tech-news -f

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
ls -la logs/
```

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šå®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œ

**æ£€æŸ¥æ­¥éª¤ï¼š**

```bash
# æ£€æŸ¥crontab
crontab -l

# æ£€æŸ¥cronæœåŠ¡çŠ¶æ€
sudo service cron status  # Ubuntu/Debian
sudo service crond status # CentOS/RHEL

# æŸ¥çœ‹cronæ—¥å¿—
grep CRON /var/log/syslog  # Ubuntu/Debian
grep CRON /var/log/cron    # CentOS/RHEL

# æ‰‹åŠ¨æµ‹è¯•è¿è¡Œ
cd /mnt/okcomputer/output/tech-news-automation && ./run.sh
```

### é—®é¢˜2ï¼šå›¾ç‰‡ç”Ÿæˆå¤±è´¥

```bash
# æ£€æŸ¥Pillowå®‰è£…
pip3 show Pillow

# é‡æ–°å®‰è£…
pip3 install --upgrade Pillow

# æ£€æŸ¥å­—ä½“
fc-list :lang=zh | grep Noto

# å®‰è£…å­—ä½“ï¼ˆå¦‚éœ€è¦ï¼‰
sudo apt-get install fonts-noto-cjk
```

### é—®é¢˜3ï¼šä¸­æ–‡æ˜¾ç¤ºä¹±ç 

```bash
# å®‰è£…ä¸­æ–‡å­—ä½“
sudo apt-get install fonts-noto-cjk fonts-wqy-zenhei

# åˆ·æ–°å­—ä½“ç¼“å­˜
fc-cache -fv
```

### é—®é¢˜4ï¼šæ— æ³•å‘é€åˆ°Getç¬”è®°

Getç¬”è®°ç›®å‰ä¸»è¦æä¾›çŸ¥è¯†åº“æŸ¥è¯¢APIï¼Œåˆ›å»ºç¬”è®°éœ€è¦ï¼š
1. æ‰‹åŠ¨å¯¼å…¥æœ¬åœ°ä¿å­˜çš„æ–‡ä»¶
2. é…ç½®Webhooké›†æˆ
3. ä½¿ç”¨Getç¬”è®°APPçš„åˆ†äº«åŠŸèƒ½

## ğŸ“ è‡ªå®šä¹‰å†…å®¹

### ä¿®æ”¹æ–°é—»ç±»åˆ«

ç¼–è¾‘ `scripts/news_fetcher.py`ï¼š

```python
# æ·»åŠ è‡ªå®šä¹‰ç±»åˆ«
categories = [
    "äººå·¥æ™ºèƒ½",
    "ç¡¬ä»¶è®¾å¤‡", 
    "è‡ªåŠ¨é©¾é©¶",
    "èŠ¯ç‰‡",
    "å…ƒå®‡å®™",
    "èˆªå¤©",
    "åŒºå—é“¾",  # æ–°å¢
    "ç”Ÿç‰©ç§‘æŠ€", # æ–°å¢
]
```

### ä¿®æ”¹å›¾ç‰‡å¸ƒå±€

ç¼–è¾‘ `scripts/image_generator.py` ä¸­çš„ç”Ÿæˆæ–¹æ³•ï¼š

```python
def generate_cover_image(self, news_list: List[Dict]) -> str:
    # ä¿®æ”¹å°é¢å¸ƒå±€
    # ...

def generate_detail_image(self, news_list: List[Dict]) -> str:
    # ä¿®æ”¹è¯¦æƒ…é¡µå¸ƒå±€
    # ...
```

## ğŸ¨ ç”Ÿæˆçš„å›¾ç‰‡è¯´æ˜

### å°é¢å›¾ç‰‡ (tech_news_cover.jpg)
- æ¸å˜èƒŒæ™¯è®¾è®¡
- ä»Šæ—¥æ—¥æœŸ
- TOP 4 çƒ­ç‚¹æ–°é—»å¡ç‰‡
- ç±»åˆ«æ ‡ç­¾å’Œçƒ­åº¦æ ‡è¯†

### è¯¦æƒ…å›¾ç‰‡ (tech_news_detail.jpg)
- TOP 6 æ–°é—»è¯¦ç»†åˆ—è¡¨
- åºå·æ ‡è¯†
- å®Œæ•´æ ‡é¢˜å’Œæ‘˜è¦
- æ¥æºä¿¡æ¯

### æ€»ç»“å›¾ç‰‡ (tech_news_summary.jpg)
- ç§‘æŠ€è¶‹åŠ¿æ´å¯Ÿ
- 4å¤§æ ¸å¿ƒè¶‹åŠ¿
- åŠ±å¿—è¯­å½•

## ğŸ“… å®šæ—¶ä»»åŠ¡ç®¡ç†

### Crontabå‘½ä»¤

```bash
# ç¼–è¾‘crontab
crontab -e

# æŸ¥çœ‹å½“å‰crontab
crontab -l

# åˆ é™¤å½“å‰crontab
crontab -r

# æŸ¥çœ‹cronæ—¥å¿—
tail -f /var/log/syslog | grep CRON
```

### Systemdå‘½ä»¤

```bash
# æŸ¥çœ‹å®šæ—¶å™¨çŠ¶æ€
sudo systemctl status tech-news.timer

# å¯åŠ¨å®šæ—¶å™¨
sudo systemctl start tech-news.timer

# åœæ­¢å®šæ—¶å™¨
sudo systemctl stop tech-news.timer

# å¯ç”¨å®šæ—¶å™¨ï¼ˆå¼€æœºå¯åŠ¨ï¼‰
sudo systemctl enable tech-news.timer

# ç¦ç”¨å®šæ—¶å™¨
sudo systemctl disable tech-news.timer

# æŸ¥çœ‹æ‰€æœ‰å®šæ—¶å™¨
sudo systemctl list-timers --all

# æ‰‹åŠ¨è¿è¡ŒæœåŠ¡
sudo systemctl start tech-news.service
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿æŠ¤APIå¯†é’¥**ï¼šä¸è¦å°†APIå¯†é’¥æäº¤åˆ°Gitä»“åº“
2. **ä½¿ç”¨ç¯å¢ƒå˜é‡**ï¼šå°†æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
3. **é™åˆ¶æ–‡ä»¶æƒé™**ï¼š
   ```bash
   chmod 600 run.sh  # é™åˆ¶è„šæœ¬æƒé™
   ```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `logs/`
2. æ£€æŸ¥é…ç½®æ–‡ä»¶
3. å‚è€ƒ `README.md`

## ğŸ”„ æ›´æ–°ç³»ç»Ÿ

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
cd /mnt/okcomputer/output/tech-news-automation
git pull  # å¦‚æœä½¿ç”¨git

# æ›´æ–°ä¾èµ–
pip3 install -r requirements.txt --upgrade

# é‡æ–°å®‰è£…
bash install.sh
```

## ğŸ“œ è®¸å¯è¯

MIT License
